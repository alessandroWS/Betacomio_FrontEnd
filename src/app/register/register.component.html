


<div class="headerMargin container-fluid min-vh-100">
  <!-- <div *ngIf="loginFailed" class="text-center mt-5">
    <span class="avv-log">
      Il login non è riuscito. Controlla le credenziali e riprova. Altrimenti, registrati!
    </span>
  </div> -->
  <div class="row justify-content-center p-5">
    <div class="col-12 col-md-7 p-5 bgGrey shadow">
      <h2 class="text-center">CREA UN NUOVO ACCOUNT</h2>
      <p class="my-5 text-center">
        Effettua l'iscrizione per usufruire al meglio dei nostri servizi ed
        accedere a tutte le funzionalità
      </p>
      <form (ngSubmit)="register()" class="p-3">
        <div class="mb-4">
          <label for="exampleInputEmail" class="form-label">Indirizzo email (USERNAME)</label>
          <input type="email" name="email" class="form-control" id="exampleInputEmail" [(ngModel)]="userData.username"
            required pattern="[^@\s]+@[^@\s]+\.[^@\s]+" [formControl]="nameField" />
          <div *ngIf="!userData.username.includes('@') && nameField.invalid && (nameField.dirty || nameField.touched)">
            <div class="text-danger" *ngIf="nameField.errors">
              L'indirizzo email deve contenere il carattere @
            </div>
          </div>
          <div id="emailHelp" class="form-text">
            Non condivideremo la tua mail con nessun'altro.
          </div>
        </div>

        <div class="mb-4">
          <label for="exampleInputPassword" class="form-label">Password</label>
          <input type="password" name="password" class="form-control" id="exampleInputPassword"
            [(ngModel)]="userData.password" required minlength="8" [formControl]="pswField" />
          <div class="text-danger"
            *ngIf="userData.password.length < 8 && pswField.invalid && (pswField.dirty || pswField.touched)">
            La password deve contenere almeno 8 caratteri
          </div>
        </div>
        <div class="mb-4">
          <label for="exampleInputPasswordConfirmation" class="form-label">Conferma Password</label>
          <input type="password" name="password_confirmation" class="form-control" id="exampleInputPasswordConfirmation"
            [(ngModel)]="userData.password_confirmation" required minlength="8" />
          <div class="text-danger" *ngIf="userData.password !== userData.password_confirmation">
            Le password non corrispondono
          </div>
        </div>
        <div class="mt-5 d-flex flex-column p-4">
          <button type="submit" class="btn  btn-outline-dark borderMain rounded-0 textMain p-2" [disabled]="!userData.username || !userData.password || !userData.password_confirmation">
            Registrati
          </button>
        </div>
      </form>
    </div>
  </div>
</div>



